<!DOCTYPE html>
<<<<<<< HEAD
<html lang="en" xmlns:th="http://www.thymeleaf.org">
=======
<html xmlns:th="http://www.thymeleaf.org">
>>>>>>> branch 'master' of https://github.com/huangquanhuan/xiuxiuxiu
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="" />
<!-- //custom-theme -->

    <link href="../css/style.css" rel="stylesheet" type="text/css" media="all" />
   <link href="../css/bootstrap.css" rel="stylesheet" type="text/css"
          media="all" />
    <!-- font-awesome-icons -->
    <link href="../css/font-awesome.css" rel="stylesheet">
<!-- //font-awesome-icons -->
<<<<<<< HEAD
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
<link href="http://fonts.googleapis.com/css?family=Raleway:100i,200,200i,300,400,500,500i,600,700,700i,800,800i" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>	
  <!--BootStrap Table-->
  <link href="https://cdn.staticfile.org/bootstrap-table/1.13.5/bootstrap-table.min.css" rel="stylesheet">
  <script src="https://cdn.staticfile.org/bootstrap-table/1.13.5/bootstrap-table.min.js"></script>
  <script type="text/javascript" src="https://cdn.bootcss.com/layer/2.3/layer.js"></script>
=======
<title>零件库编辑</title>
<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="application/x-javascript">
	
	
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);
        function hideURLbar() {
            window.scrollTo(0, 1);
        }
</script>
<link href="/css/index.css" rel="stylesheet" type="text/css"
	media="all" />
<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">

>>>>>>> branch 'master' of https://github.com/huangquanhuan/xiuxiuxiu
</head>
<body>
	<div th:replace="manager/Mnav :: mnavbar"></div> 
	<!-- banner-bottom -->
	<div class="banner-bottom">
		<div class="container">
			<div class="mid_agile_bannner_top_info">
				<h2>零件库编辑</h2>
				<div class="heading-underline">
					<div class="h-u1"></div>
					<div class="h-u2"></div>
					<div class="h-u3"></div>
					<div class="clearfix"></div>
				</div>
				<!-- 两边留白 -->

				<div class="wrapper" >
					<div class="table-responsive">
						<table class="table table-bordered table-striped" id="CompontentTable">
							<caption>零件列表</caption>
							
							<thead>
								<tr>
									<th>id</th>
									<th>零件名称</th>
									<th>价格</th>
									<th>数量</th>
									<th>零件类型</th>
									<th>修改</th>
									<th>删除</th>
								</tr>
							</thead>
							<tbody th:each="component,iterStat : ${componentList}">								
									<tr>
										<td th:text="${component.id}"></td>
										<td th:text="${component.name}"></td>
										<td th:text="${component.price}"></td>
										<td th:text="${component.quantity}"></td>
										<td th:text="${component.type}"></td>
										<td><a href="#" class="view resw3" data-toggle="modal" th:attr="data-target='#myModal2'+${component.id}">修改</a>							
										<td><a href="#" class="view resw3" data-toggle="modal" th:attr="data-target='#myModal3'+${component.id}">删除</a>
										
										<div class="modal fade" th:id="myModal3+${component.id}" tabindex="-1" role="dialog">
									    <div class="modal-dialog">
											<!-- Modal content-->
												<div class="modal-content">
														<div class="modal-header">
														<button type="button" class="close" data-dismiss="modal">&times;</button>

															<div class="signin-form profile">
																<h3 class="agileinfo_sign">是否删除该零件</h3>	
																	<div class="login-form">
																		<form th:action="@{/manager/DeleteComponent}" method="post">
																			<input type="hidden" name="id" th:value=${component.id}>
																			<input type="submit" value="确定">
																		</form>
																	</div>
																			
																</div>
														</div>
													</div>
												</div>
										</div>	
						
						<!-- 模态框（Modal2） -->
						<div class="modal fade" th:id="myModal2+${component.id}" tabindex="-1" role="dialog"
							aria-labelledby="myModalLabel" aria-hidden="true">
							<div class="modal-dialog">
								<div class="modal-content agileits_banner_bottom_left">
									<form th:action="@{/manager/UpdateComponent}" method="post">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal"
												aria-hidden="true">&times;</button>
											<h3>
												<span>修改零件</span>
											</h3>
										</div>
										<div class="modal-body">
											<input type="hidden" name="id" th:value=${component.id}>
											<p>
												<span>零件名称</span> <input type="text" class="form-control"
													name="name" />
											</p>
											<p>
												<span>零件价格</span> <input type="text" class="form-control"
													name="price" />
											</p>
											<p>
												<span>零件数量</span> <input type="text" class="form-control"
													name="quantity" />
											</p>
											<p>
												<span>零件类型</span> <input type="text" class="form-control"
													name="type" />
											</p>
										</div>
										<div class="modal-footer">

											<button type="button" class="btn btn-default"
												data-dismiss="modal">关闭</button>
											<button type="submit" class="btn btn-primary" name="submit">提交</button>
										</div>
									</form>
								</div>
							</div>
						</div>
										
									</tr>
								
							</tbody>
						</table>
						<!-- 按钮触发模态框 -->
						<button class=" btn-success btn-lg" data-toggle="modal"
							data-target="#myModal">新增零件</button>
						<!-- 模态框（Modal） -->
						<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
							aria-labelledby="myModalLabel" aria-hidden="true">
							<div class="modal-dialog">
								<div class="modal-content agileits_banner_bottom_left">
									<form th:action="@{/manager/AddComponent}" method="post">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal"
												aria-hidden="true">&times;</button>
											<h3>
												<span>新增零件</span>
											</h3>
										</div>
										<div class="modal-body">
											<p>
												<span>零件名称</span> <input type="text" class="form-control"
													name="name" />
											</p>
											<p>
												<span>零件价格</span> <input type="text" class="form-control"
													name="price" />
											</p>
											<p>
												<span>零件数量</span> <input type="text" class="form-control"
													name="quantity" />
											</p>
											<p>
												<span>零件类型</span> <input type="text" class="form-control"
													name="type" />
											</p>
										</div>
										<div class="modal-footer">

											<button type="button" class="btn btn-default"
												data-dismiss="modal">关闭</button>
											<button type="submit" class="btn btn-success" name="submit">提交</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						
						
						
						
					</div>
				</div>
			</div>
		</div>
	</div>


	
	<!-- menu -->
	<!-- js -->
	<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="js/modernizr.custom.46884.js"></script>
	<!-- updateFormID -->
	<script type="text/javascript">
		function updateFormID(a) {
	        document.getElementById("id").value = a;
	    }
	</script>
	<!-- password-script -->
	<script type="text/javascript">
            window.onload = function() {
                document.getElementById("password1").onchange = validatePassword;
                document.getElementById("password2").onchange = validatePassword;
            }
            
            function validatePassword() {
                var pass2 = document.getElementById("password2").value;
                var pass1 = document.getElementById("password1").value;
                if (pass1 != pass2)
                    document.getElementById("password2").setCustomValidity(
                            "Passwords Don't Match");
                else
                    document.getElementById("password2").setCustomValidity('');
                //empty string means no validation error
            }
        </script>
	<!-- //password-script -->

	<!-- //js -->
	<script src="js/bars.js"></script>
	<script type="text/javascript" src="js/jquery.slicebox.js"></script>
	<script type="text/javascript">
            $(function() {

                var Page = (function() {

                    var $navArrows = $('#nav-arrows').hide(), $navDots = $(
                            '#nav-dots').hide(), $nav = $navDots
                            .children('span'), $shadow = $('#shadow').hide(), slicebox = $(
                            '#sb-slider').slicebox({
                        onReady : function() {

                            $navArrows.show();
                            $navDots.show();
                            $shadow.show();

                        },
                        onBeforeChange : function(pos) {

                            $nav.removeClass('nav-dot-current');
                            $nav.eq(pos).addClass('nav-dot-current');

                        }
                    }),

                    init = function() {

                        initEvents();

                    }, initEvents = function() {

                        // add navigation events
                        $navArrows.children(':first').on('click', function() {

                            slicebox.next();
                            return false;

                        });

                        $navArrows.children(':last').on('click', function() {

                            slicebox.previous();
                            return false;

                        });

                        $nav.each(function(i) {

                            $(this).on('click', function(event) {

                                var $dot = $(this);

                                if (!slicebox.isActive()) {

                                    $nav.removeClass('nav-dot-current');
                                    $dot.addClass('nav-dot-current');

                                }

                                slicebox.jump(i + 1);
                                return false;

                            });

                        });

                    };

                    return {
                        init : init
                    };

                })();

                Page.init();

            });
        </script>
	<!-- Stats -->
	<script src="js/waypoints.min.js"></script>
	<script src="js/counterup.min.js"></script>
	<script>
            jQuery(document).ready(function($) {
                $('.counter').counterUp({
                    delay : 10,
                    time : 2000
                });
            });
        </script>
	<!-- //Stats -->

	<script type="text/javascript" src="js/jquery.flexisel.js"></script>
	<!-- flexisel -->
	<script type="text/javascript">
            $(window).load(function() {
                $("#flexiselDemo1").flexisel({
                    visibleItems : 4,
                    animationSpeed : 1000,
                    autoPlay : true,
                    autoPlaySpeed : 3000,
                    pauseOnHover : true,
                    enableResponsiveBreakpoints : true,
                    responsiveBreakpoints : {
                        portrait : {
                            changePoint : 480,
                            visibleItems : 1
                        },
                        landscape : {
                            changePoint : 640,
                            visibleItems : 2
                        },
                        tablet : {
                            changePoint : 768,
                            visibleItems : 2
                        }
                    }
                });

            });
        </script>
	<!-- //flexisel -->
	<!-- //flexisel -->
	<!-- js for portfolio lightbox -->
	<script src="js/jquery.chocolat.js "></script>
	<!-- //menu -->
	<!-- for bootstrap working -->
	<script src="js/bootstrap.js"></script>
	<!-- //for bootstrap working -->
	<!-- start-smoth-scrolling -->
	<script type="text/javascript" src="js/move-top.js"></script>
	<script type="text/javascript" src="js/easing.js"></script>
	<script type="text/javascript">
            jQuery(document).ready(function($) {
                $(".scroll").click(function(event) {
                    event.preventDefault();
                    $('html,body').animate({
                        scrollTop : $(this.hash).offset().top
                    }, 1000);
                });
            });
        </script>
	<!-- start-smoth-scrolling -->
	<!-- here stars scrolling icon -->
	<script type="text/javascript">
            $(document).ready(function() {
                /*
                    var defaults = {
                    containerID: 'toTop', // fading element id
                    containerHoverID: 'toTopHover', // fading element hover id
                    scrollSpeed: 1200,
                    easingType: 'linear' 
                    };
                 */

                $().UItoTop({
                    easingType : 'easeOutQuart'
                });

            });
        </script>
	<!-- //here ends scrolling icon -->

	<a href="#" id="toTop" style="display: none;"><span id="toTopHover"></span>To
		Top</a>
</body>

<script src="https://cdn.staticfile.org/bootstrap-table/1.13.5/locale/bootstrap-table-zh-CN.min.js"></script>
<script>
    $(document).ready(function () {
        $("#CompontentTable").bootstrapTable({
            url:"/manager/getAllComponen",            //请求地址
            toolbar : '#toolbar',               //工具按钮用哪个容器
            data_local : "zh-US" ,        //表格汉化
            striped : true,           //是否显示行间隔色
            pageNumber : 1,           //初始化加载第一页
            pagination : true,          //是否分页
            sidePagination : 'client',      //server:服务器端分页|client：前端分页
            pageSize : 2,           //单页记录数
            minimumCountColumns : 2,            //最少允许的列数
            clickToSelect : true,               //是否启用点击选中行
            sortStable : true,          //是否可排序
            strictSearch : false,               //设置为 true启用 全匹配搜索，否则为模糊搜索
            pageList : [ 2, 3, 5,'ALL'],    //可选择单页记录数
            search: true,           //表格搜索按钮
            showRefresh : true,         //刷新按钮
            //queryParamsType:'',         //默认值为 'limit' ,在默认情况下 传给服务端的参数为：offset,limit,sort
                              // 设置为 ''  在这种情况下传给服务器的参数为：pageSize,pageNumber
            queryParams : function(params) {  //上传服务器的参数 //params的自带参数类型由queryParamsType决定
                var temp = {
                    offset: params.offset,             //起始
                    limit: params.limit,                         //页面大小
                };
                return temp;
            } ,
            columns : [ {
                title: '序号',
                field: '',
                align: 'center',
                formatter: function (value, row, index) {
                    return index+1;
                },{
                	title : 'ID',
                	field : 'id'
                	align : 'center',
                	sortable : true
                },{
                	title : '零件名称',
                	field : 'name}'
                	align : 'center',
                	sortable : true
                },{
                	title : '价格',
                	field : 'price'
                	align : 'center',
                	sortable : true
                },{
                	title : '数量',
                	field : 'quantity'
                	align : 'center',
                	sortable : true
                },{
                	title : '零件类型',
                	field : 'type'
                	align : 'center',
                	sortable : true
                },{
                	title : '修改',
                	field : 'update'
                	align : 'center',
                	formatter: function (value, row, index) {
                		return '<a href="#" class="view resw3" data-toggle="modal" th:attr="data-target=\'#myModal2\''+row.id+'">修改</a>'
                	}
                },{
                	title : '删除',
                	field : 'deleted'
                	align : 'center',
                	formatter: function (value, row, index) {
                		return '<a href="#" class="view resw3" data-toggle="modal" th:attr="data-target=\'#myModal3\''+row.id+'">删除</a>'
                	}
                }] 
                
        })
    })
</script>
</html>